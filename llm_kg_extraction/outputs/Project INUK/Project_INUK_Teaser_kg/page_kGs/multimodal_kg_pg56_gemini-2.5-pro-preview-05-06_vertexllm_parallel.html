<html>
    <head>
        <meta charset="utf-8">
        
            <script>function neighbourhoodHighlight(params) {
  // console.log("in nieghbourhoodhighlight");
  allNodes = nodes.get({ returnType: "Object" });
  // originalNodes = JSON.parse(JSON.stringify(allNodes));
  // if something is selected:
  if (params.nodes.length > 0) {
    highlightActive = true;
    var i, j;
    var selectedNode = params.nodes[0];
    var degrees = 2;

    // mark all nodes as hard to read.
    for (let nodeId in allNodes) {
      // nodeColors[nodeId] = allNodes[nodeId].color;
      allNodes[nodeId].color = "rgba(200,200,200,0.5)";
      if (allNodes[nodeId].hiddenLabel === undefined) {
        allNodes[nodeId].hiddenLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }
    var connectedNodes = network.getConnectedNodes(selectedNode);
    var allConnectedNodes = [];

    // get the second degree nodes
    for (i = 1; i < degrees; i++) {
      for (j = 0; j < connectedNodes.length; j++) {
        allConnectedNodes = allConnectedNodes.concat(
          network.getConnectedNodes(connectedNodes[j])
        );
      }
    }

    // all second degree nodes get a different color and their label back
    for (i = 0; i < allConnectedNodes.length; i++) {
      // allNodes[allConnectedNodes[i]].color = "pink";
      allNodes[allConnectedNodes[i]].color = "rgba(150,150,150,0.75)";
      if (allNodes[allConnectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[allConnectedNodes[i]].label =
          allNodes[allConnectedNodes[i]].hiddenLabel;
        allNodes[allConnectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // all first degree nodes get their own color and their label back
    for (i = 0; i < connectedNodes.length; i++) {
      // allNodes[connectedNodes[i]].color = undefined;
      allNodes[connectedNodes[i]].color = nodeColors[connectedNodes[i]];
      if (allNodes[connectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[connectedNodes[i]].label =
          allNodes[connectedNodes[i]].hiddenLabel;
        allNodes[connectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // the main node gets its own color and its label back.
    // allNodes[selectedNode].color = undefined;
    allNodes[selectedNode].color = nodeColors[selectedNode];
    if (allNodes[selectedNode].hiddenLabel !== undefined) {
      allNodes[selectedNode].label = allNodes[selectedNode].hiddenLabel;
      allNodes[selectedNode].hiddenLabel = undefined;
    }
  } else if (highlightActive === true) {
    // console.log("highlightActive was true");
    // reset all nodes
    for (let nodeId in allNodes) {
      // allNodes[nodeId].color = "purple";
      allNodes[nodeId].color = nodeColors[nodeId];
      // delete allNodes[nodeId].color;
      if (allNodes[nodeId].hiddenLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].hiddenLabel;
        allNodes[nodeId].hiddenLabel = undefined;
      }
    }
    highlightActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    // console.log("Nothing was selected");
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        // allNodes[nodeId].color = {};
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function filterHighlight(params) {
  allNodes = nodes.get({ returnType: "Object" });
  // if something is selected:
  if (params.nodes.length > 0) {
    filterActive = true;
    let selectedNodes = params.nodes;

    // hiding all nodes and saving the label
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = true;
      if (allNodes[nodeId].savedLabel === undefined) {
        allNodes[nodeId].savedLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }

    for (let i=0; i < selectedNodes.length; i++) {
      allNodes[selectedNodes[i]].hidden = false;
      if (allNodes[selectedNodes[i]].savedLabel !== undefined) {
        allNodes[selectedNodes[i]].label = allNodes[selectedNodes[i]].savedLabel;
        allNodes[selectedNodes[i]].savedLabel = undefined;
      }
    }

  } else if (filterActive === true) {
    // reset all nodes
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = false;
      if (allNodes[nodeId].savedLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].savedLabel;
        allNodes[nodeId].savedLabel = undefined;
      }
    }
    filterActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function selectNode(nodes) {
  network.selectNodes(nodes);
  neighbourhoodHighlight({ nodes: nodes });
  return nodes;
}

function selectNodes(nodes) {
  network.selectNodes(nodes);
  filterHighlight({nodes: nodes});
  return nodes;
}

function highlightFilter(filter) {
  let selectedNodes = []
  let selectedProp = filter['property']
  if (filter['item'] === 'node') {
    let allNodes = nodes.get({ returnType: "Object" });
    for (let nodeId in allNodes) {
      if (allNodes[nodeId][selectedProp] && filter['value'].includes((allNodes[nodeId][selectedProp]).toString())) {
        selectedNodes.push(nodeId)
      }
    }
  }
  else if (filter['item'] === 'edge'){
    let allEdges = edges.get({returnType: 'object'});
    // check if the selected property exists for selected edge and select the nodes connected to the edge
    for (let edge in allEdges) {
      if (allEdges[edge][selectedProp] && filter['value'].includes((allEdges[edge][selectedProp]).toString())) {
        selectedNodes.push(allEdges[edge]['from'])
        selectedNodes.push(allEdges[edge]['to'])
      }
    }
  }
  selectNodes(selectedNodes)
}</script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
            
            
            
            
            

        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 800px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"color": "#1f77b4", "id": "e1", "label": "Articque", "shape": "dot", "size": 15, "title": "ID: e1\u003cbr\u003eType: pekg:Company\u003cbr\u003ename: Articque\u003cbr\u003edescription: Target Company. Management prepared the FY22L-FY24BP business plan. This page details its standalone growth strategy, topline and cost assumptions.\u003cbr\u003egrowthStrategySummary: Standalone based growth strategy. Key assumptions include: continue M2S switch on AP client base, continued upselling effort on existing client base, focus on repeat business, and new logo acquisition. The company also anticipates gaining market share. Revenue assumptions are built bottom-up by offering line and historical recurring/non-recurring contributions. Cost assumptions cover COGS, staff costs (hirings and inflation), external costs, other expenses, and taxes."}, {"color": "#cccccc", "id": "e2", "label": "DDA \u0026 Company France SAS", "shape": "dot", "size": 15, "title": "ID: e2\u003cbr\u003eType: Financial Advisor\u003cbr\u003ename: DDA \u0026 Company France SAS\u003cbr\u003ealias: [\u0027DDA\u0026Company\u0027]\u003cbr\u003eroleInContext: Advisory firm associated with Project Inuk"}, {"color": "#d62728", "id": "e3", "label": "Project Inuk", "shape": "dot", "size": 15, "title": "ID: e3\u003cbr\u003eType: pekg:TransactionContext\u003cbr\u003econtextName: Project Inuk\u003cbr\u003edescription: Codename for a project involving Articque and ChapsVision. This page (56) focuses on Articque\u0027s financials and growth strategy within this project.\u003cbr\u003etransactionPerimeter: Articque\u0027s standalone growth strategy and financials, as part of Project Inuk. ChapsVision is also associated with this project."}, {"color": "#d62728", "id": "e4", "label": "Articque FY22L-FY24BP Business Plan", "shape": "dot", "size": 15, "title": "ID: e4\u003cbr\u003eType: pekg:TransactionContext\u003cbr\u003econtextName: Articque FY22L-FY24BP Business Plan\u003cbr\u003etypeSought: Business Plan Presentation\u003cbr\u003edescription: Business plan for Articque covering the period from FY22 Last Twelve Months (or Latest) to FY24 Budgeted/Planned figures. Prepared by the management of Articque. Outlines strategic roadmap, topline assumptions, and cost assumptions.\u003cbr\u003estatus: Presented"}, {"color": "#ffbb78", "id": "e5", "label": "M2S switch on AP client base", "shape": "dot", "size": 15, "title": "ID: e5\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: M2S switch on AP client base\u003cbr\u003ekpiValueString: Continue\u003cbr\u003edescription: A key assumption for Articque\u0027s strategic roadmap."}, {"color": "#ffbb78", "id": "e6", "label": "Upselling effort on existing client base", "shape": "dot", "size": 15, "title": "ID: e6\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Upselling effort on existing client base\u003cbr\u003ekpiValueString: Continued\u003cbr\u003edescription: A key assumption for Articque\u0027s strategic roadmap."}, {"color": "#ffbb78", "id": "e7", "label": "Focus on repeat business", "shape": "dot", "size": 15, "title": "ID: e7\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Focus on repeat business\u003cbr\u003ekpiValueString: Focus\u003cbr\u003edescription: A key assumption for Articque\u0027s strategic roadmap."}, {"color": "#ffbb78", "id": "e8", "label": "New logo acquisition", "shape": "dot", "size": 15, "title": "ID: e8\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: New logo acquisition\u003cbr\u003edescription: A key assumption for Articque\u0027s strategic roadmap."}, {"color": "#ffbb78", "id": "e9", "label": "Market share gain", "shape": "dot", "size": 15, "title": "ID: e9\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Market share gain\u003cbr\u003edescription: Anticipated by Articque due to favorable competitive environment movements."}, {"color": "#ff7f0e", "id": "e10", "label": "COGS Growth", "shape": "dot", "size": 15, "title": "ID: e10\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: COGS Growth\u003cbr\u003evalueString: Similar growth as billing revenues\u003cbr\u003escope: Cost assumption for Articque."}, {"color": "#fdd0a2", "id": "e11", "label": "New Hirings FY23A", "shape": "dot", "size": 15, "title": "ID: e11\u003cbr\u003eType: pekg:Headcount\u003cbr\u003eheadcountName: New Hirings FY23A\u003cbr\u003etotalEmployees: 6\u003cbr\u003edateOrYear: FY23A\u003cbr\u003ebreakdownDescription: Includes 3 apprentices converting into full-time jobs."}, {"color": "#fdd0a2", "id": "e12", "label": "New Hirings FY24A", "shape": "dot", "size": 15, "title": "ID: e12\u003cbr\u003eType: pekg:Headcount\u003cbr\u003eheadcountName: New Hirings FY24A\u003cbr\u003etotalEmployees: 2\u003cbr\u003edateOrYear: FY24A"}, {"color": "#ff7f0e", "id": "e13", "label": "Staff Costs Inflation Rate", "shape": "dot", "size": 15, "title": "ID: e13\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: Staff Costs Inflation Rate\u003cbr\u003evalueString: 3%\u003cbr\u003escope: Applied to staff costs in conjunction with new hirings for Articque."}, {"color": "#ff7f0e", "id": "e14", "label": "External Costs Growth (FY23BP)", "shape": "dot", "size": 15, "title": "ID: e14\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: External Costs Growth\u003cbr\u003evalueString: 10%\u003cbr\u003efiscalPeriod: FY23BP\u003cbr\u003escope: Projected for Articque."}, {"color": "#ff7f0e", "id": "e15", "label": "External Costs Growth (FY24BP)", "shape": "dot", "size": 15, "title": "ID: e15\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: External Costs Growth\u003cbr\u003evalueString: 10%\u003cbr\u003efiscalPeriod: FY24BP\u003cbr\u003escope: Projected for Articque."}, {"color": "#ff7f0e", "id": "e16", "label": "Other Expenses as Percentage of Revenue (FY23BP)", "shape": "dot", "size": 15, "title": "ID: e16\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: Other Expenses as Percentage of Revenue\u003cbr\u003evalueString: 6.5%\u003cbr\u003efiscalPeriod: FY23BP\u003cbr\u003escope: Projected for Articque, to remain flat on a percentage basis."}, {"color": "#ff7f0e", "id": "e17", "label": "Other Expenses as Percentage of Revenue (FY24BP)", "shape": "dot", "size": 15, "title": "ID: e17\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: Other Expenses as Percentage of Revenue\u003cbr\u003evalueString: 6.5%\u003cbr\u003efiscalPeriod: FY24BP\u003cbr\u003escope: Projected for Articque, to remain flat on a percentage basis."}, {"color": "#ff7f0e", "id": "e18", "label": "Taxes Growth (FY23BP)", "shape": "dot", "size": 15, "title": "ID: e18\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: Taxes Growth\u003cbr\u003evalueString: 3% y-on-y\u003cbr\u003efiscalPeriod: FY23BP\u003cbr\u003escope: Projected for Articque."}, {"color": "#ff7f0e", "id": "e19", "label": "Taxes Growth (FY24BP)", "shape": "dot", "size": 15, "title": "ID: e19\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: Taxes Growth\u003cbr\u003evalueString: 3% y-on-y\u003cbr\u003efiscalPeriod: FY24BP\u003cbr\u003escope: Projected for Articque."}, {"color": "#1f77b4", "id": "e20", "label": "ChapsVision", "shape": "dot", "size": 15, "title": "ID: e20\u003cbr\u003eType: pekg:Company\u003cbr\u003ename: ChapsVision\u003cbr\u003edescription: Company mentioned in the footer in relation to Project Inuk. Role not specified on this page beyond association with the project."}]);
                  edges = new vis.DataSet([{"arrows": "to", "from": "e1", "label": "isSubjectOf", "title": "pekg:isSubjectOf", "to": "e3"}, {"arrows": "to", "from": "e3", "label": "advisedBy", "title": "pekg:advisedBy", "to": "e2"}, {"arrows": "to", "from": "e1", "label": "isSubjectOf", "title": "pekg:isSubjectOf", "to": "e4"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e5"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e6"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e7"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e8"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e9"}, {"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e10"}, {"arrows": "to", "from": "e1", "label": "reportsHeadcount", "title": "pekg:reportsHeadcount", "to": "e11"}, {"arrows": "to", "from": "e1", "label": "reportsHeadcount", "title": "pekg:reportsHeadcount", "to": "e12"}, {"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e13"}, {"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e14"}, {"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e15"}, {"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e16"}, {"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e17"}, {"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e18"}, {"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e19"}, {"arrows": "to", "from": "e20", "label": "isSubjectOf", "title": "pekg:isSubjectOf", "to": "e3"}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"nodes": {"shape": "dot", "size": 18, "font": {"size": 14, "face": "Tahoma"}}, "edges": {"arrows": {"to": {"enabled": true, "scaleFactor": 0.7}}, "color": {"inherit": "from"}, "smooth": {"type": "continuous", "roundness": 0.2}, "font": {"size": 10, "align": "middle"}}, "physics": {"enabled": true, "barnesHut": {"gravitationalConstant": -30000, "centralGravity": 0.3, "springLength": 250, "springConstant": 0.04, "damping": 0.09}, "minVelocity": 0.75}, "interaction": {"hover": true, "tooltipDelay": 200, "multiselect": true}, "layout": {"hierarchical": false}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    </body>
</html>