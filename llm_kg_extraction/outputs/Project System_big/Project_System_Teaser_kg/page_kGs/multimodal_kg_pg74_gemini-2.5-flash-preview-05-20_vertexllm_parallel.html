<html>
    <head>
        <meta charset="utf-8">
        
            <script>function neighbourhoodHighlight(params) {
  // console.log("in nieghbourhoodhighlight");
  allNodes = nodes.get({ returnType: "Object" });
  // originalNodes = JSON.parse(JSON.stringify(allNodes));
  // if something is selected:
  if (params.nodes.length > 0) {
    highlightActive = true;
    var i, j;
    var selectedNode = params.nodes[0];
    var degrees = 2;

    // mark all nodes as hard to read.
    for (let nodeId in allNodes) {
      // nodeColors[nodeId] = allNodes[nodeId].color;
      allNodes[nodeId].color = "rgba(200,200,200,0.5)";
      if (allNodes[nodeId].hiddenLabel === undefined) {
        allNodes[nodeId].hiddenLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }
    var connectedNodes = network.getConnectedNodes(selectedNode);
    var allConnectedNodes = [];

    // get the second degree nodes
    for (i = 1; i < degrees; i++) {
      for (j = 0; j < connectedNodes.length; j++) {
        allConnectedNodes = allConnectedNodes.concat(
          network.getConnectedNodes(connectedNodes[j])
        );
      }
    }

    // all second degree nodes get a different color and their label back
    for (i = 0; i < allConnectedNodes.length; i++) {
      // allNodes[allConnectedNodes[i]].color = "pink";
      allNodes[allConnectedNodes[i]].color = "rgba(150,150,150,0.75)";
      if (allNodes[allConnectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[allConnectedNodes[i]].label =
          allNodes[allConnectedNodes[i]].hiddenLabel;
        allNodes[allConnectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // all first degree nodes get their own color and their label back
    for (i = 0; i < connectedNodes.length; i++) {
      // allNodes[connectedNodes[i]].color = undefined;
      allNodes[connectedNodes[i]].color = nodeColors[connectedNodes[i]];
      if (allNodes[connectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[connectedNodes[i]].label =
          allNodes[connectedNodes[i]].hiddenLabel;
        allNodes[connectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // the main node gets its own color and its label back.
    // allNodes[selectedNode].color = undefined;
    allNodes[selectedNode].color = nodeColors[selectedNode];
    if (allNodes[selectedNode].hiddenLabel !== undefined) {
      allNodes[selectedNode].label = allNodes[selectedNode].hiddenLabel;
      allNodes[selectedNode].hiddenLabel = undefined;
    }
  } else if (highlightActive === true) {
    // console.log("highlightActive was true");
    // reset all nodes
    for (let nodeId in allNodes) {
      // allNodes[nodeId].color = "purple";
      allNodes[nodeId].color = nodeColors[nodeId];
      // delete allNodes[nodeId].color;
      if (allNodes[nodeId].hiddenLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].hiddenLabel;
        allNodes[nodeId].hiddenLabel = undefined;
      }
    }
    highlightActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    // console.log("Nothing was selected");
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        // allNodes[nodeId].color = {};
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function filterHighlight(params) {
  allNodes = nodes.get({ returnType: "Object" });
  // if something is selected:
  if (params.nodes.length > 0) {
    filterActive = true;
    let selectedNodes = params.nodes;

    // hiding all nodes and saving the label
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = true;
      if (allNodes[nodeId].savedLabel === undefined) {
        allNodes[nodeId].savedLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }

    for (let i=0; i < selectedNodes.length; i++) {
      allNodes[selectedNodes[i]].hidden = false;
      if (allNodes[selectedNodes[i]].savedLabel !== undefined) {
        allNodes[selectedNodes[i]].label = allNodes[selectedNodes[i]].savedLabel;
        allNodes[selectedNodes[i]].savedLabel = undefined;
      }
    }

  } else if (filterActive === true) {
    // reset all nodes
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = false;
      if (allNodes[nodeId].savedLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].savedLabel;
        allNodes[nodeId].savedLabel = undefined;
      }
    }
    filterActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function selectNode(nodes) {
  network.selectNodes(nodes);
  neighbourhoodHighlight({ nodes: nodes });
  return nodes;
}

function selectNodes(nodes) {
  network.selectNodes(nodes);
  filterHighlight({nodes: nodes});
  return nodes;
}

function highlightFilter(filter) {
  let selectedNodes = []
  let selectedProp = filter['property']
  if (filter['item'] === 'node') {
    let allNodes = nodes.get({ returnType: "Object" });
    for (let nodeId in allNodes) {
      if (allNodes[nodeId][selectedProp] && filter['value'].includes((allNodes[nodeId][selectedProp]).toString())) {
        selectedNodes.push(nodeId)
      }
    }
  }
  else if (filter['item'] === 'edge'){
    let allEdges = edges.get({returnType: 'object'});
    // check if the selected property exists for selected edge and select the nodes connected to the edge
    for (let edge in allEdges) {
      if (allEdges[edge][selectedProp] && filter['value'].includes((allEdges[edge][selectedProp]).toString())) {
        selectedNodes.push(allEdges[edge]['from'])
        selectedNodes.push(allEdges[edge]['to'])
      }
    }
  }
  selectNodes(selectedNodes)
}</script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
            
            
            
            
            

        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 800px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"color": "#1f77b4", "id": "e1", "label": "Systran SAS", "shape": "dot", "size": 15, "title": "ID: e1\u003cbr\u003eType: pekg:Company\u003cbr\u003ename: Systran SAS\u003cbr\u003ealias: [\u0027Systran\u0027, \u0027the Group\u0027]\u003cbr\u003edescription: Target company for Project System_big, focusing on an ambitious roadmap to scale-up and cost structure optimization."}, {"color": "#cccccc", "id": "e2", "label": "Rothschild \u0026 Co", "shape": "dot", "size": 15, "title": "ID: e2\u003cbr\u003eType: Financial Advisor\u003cbr\u003ename: Rothschild \u0026 Co\u003cbr\u003eroleInContext: Advisory Firm for Project System_big"}, {"color": "#cccccc", "id": "e3", "label": "Samsung Securities", "shape": "dot", "size": 15, "title": "ID: e3\u003cbr\u003eType: Financial Advisor\u003cbr\u003ename: Samsung Securities\u003cbr\u003eroleInContext: Advisory Firm for Project System_big"}, {"color": "#1f77b4", "id": "e4", "label": "KPMG", "shape": "dot", "size": 15, "title": "ID: e4\u003cbr\u003eType: pekg:Company\u003cbr\u003ename: KPMG\u003cbr\u003edescription: Source of data for financial metrics."}, {"color": "#1f77b4", "id": "e5", "label": "ChapsVision", "shape": "dot", "size": 15, "title": "ID: e5\u003cbr\u003eType: pekg:Company\u003cbr\u003ename: ChapsVision\u003cbr\u003edescription: Company mentioned in the confidentiality note."}, {"color": "#ff7f0e", "id": "e6", "label": "EBITDA margin (FY26BP)", "shape": "dot", "size": 15, "title": "ID: e6\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: EBITDA margin\u003cbr\u003evalueString: 31.9%\u003cbr\u003efiscalPeriod: FY26BP\u003cbr\u003escope: target\u003cbr\u003esourceNote: Source KPMG, Management"}, {"color": "#ff7f0e", "id": "e7", "label": "EBITDA (FY26BP)", "shape": "dot", "size": 15, "title": "ID: e7\u003cbr\u003eType: pekg:FinancialMetric\u003cbr\u003emetricName: EBITDA\u003cbr\u003evalueString: \u20ac16.9m\u003cbr\u003efiscalPeriod: FY26BP\u003cbr\u003escope: target\u003cbr\u003esourceNote: Source KPMG, Management"}, {"color": "#e377c2", "id": "e8", "label": "Machine Translation (MT) market", "shape": "dot", "size": 15, "title": "ID: e8\u003cbr\u003eType: pekg:MarketContext\u003cbr\u003esegmentName: Machine Translation (MT) market\u003cbr\u003echaracteristics: Market where Systran aims to position itself as a leader."}, {"color": "#ffbb78", "id": "e9", "label": "Hosting IT, software expense", "shape": "dot", "size": 15, "title": "ID: e9\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Hosting IT, software expense\u003cbr\u003edescription: Modelled increase due to energy costs fluctuations, increase in private cloud customers, higher IT costs for R\u0026D (language pairs trainings, large models creation, better IT cost tracking), and increase in software expenses (reselling partner ASR solutions to public sector customers)."}, {"color": "#ffbb78", "id": "e10", "label": "R\u0026D expenses", "shape": "dot", "size": 15, "title": "ID: e10\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: R\u0026D expenses\u003cbr\u003edescription: Mainly relying on tools required for developers, infrastructure to produce Language Models, and non-strategic developments outsourcing to reduce costs."}, {"color": "#ffbb78", "id": "e11", "label": "Personnel costs", "shape": "dot", "size": 15, "title": "ID: e11\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Personnel costs\u003cbr\u003edescription: Modelled taking into account strong market competition leading to salary increases to attract and retain talents, and FY22B inflation leading to salary raise expectations."}, {"color": "#ffbb78", "id": "e12", "label": "Marketing focus", "shape": "dot", "size": 15, "title": "ID: e12\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Marketing focus\u003cbr\u003edescription: Mainly focusing on redesigning the corporate website to increase traffic and attract new customers, generating content to position the Group as a leader on the MT market, and media to ensure company visibility and drive traffic."}, {"color": "#8c564b", "id": "e13", "label": "Language Models", "shape": "dot", "size": 15, "title": "ID: e13\u003cbr\u003eType: pekg:Technology\u003cbr\u003ename: Language Models\u003cbr\u003edescription: Technology requiring infrastructure for production, central to R\u0026D efforts."}, {"color": "#9467bd", "id": "e14", "label": "ASR solutions", "shape": "dot", "size": 15, "title": "ID: e14\u003cbr\u003eType: pekg:ProductOrService\u003cbr\u003ename: ASR solutions\u003cbr\u003ecategory: Software\u003cbr\u003edescription: Partner solutions resold by Systran."}, {"color": "#ce6dbd", "id": "e15", "label": "Public sector", "shape": "dot", "size": 15, "title": "ID: e15\u003cbr\u003eType: pekg:UseCaseOrIndustry\u003cbr\u003ename: Public sector\u003cbr\u003edescription: Target customer segment for reselling ASR solutions."}, {"color": "#ce6dbd", "id": "e16", "label": "Private cloud customers", "shape": "dot", "size": 15, "title": "ID: e16\u003cbr\u003eType: pekg:UseCaseOrIndustry\u003cbr\u003ename: Private cloud customers\u003cbr\u003edescription: Customer segment experiencing positive sales performance, leading to increased hosting IT expenses."}, {"color": "#c7c7c7", "id": "e17", "label": "Vietnam", "shape": "dot", "size": 15, "title": "ID: e17\u003cbr\u003eType: pekg:Location\u003cbr\u003elocationName: Vietnam\u003cbr\u003elocationType: country\u003cbr\u003eofficeSpecificInfo: Location for non-strategic developments outsourcing to reduce costs."}, {"color": "#e7969c", "id": "e18", "label": "FY22B inflation", "shape": "dot", "size": 15, "title": "ID: e18\u003cbr\u003eType: pekg:HistoricalEvent\u003cbr\u003eeventName: FY22B inflation\u003cbr\u003eeventType: Economic Event\u003cbr\u003edateOrYear: FY22B\u003cbr\u003edescription: Economic event leading to salary raise expectations for personnel costs."}, {"color": "#e7969c", "id": "e19", "label": "Energy costs fluctuations", "shape": "dot", "size": 15, "title": "ID: e19\u003cbr\u003eType: pekg:HistoricalEvent\u003cbr\u003eeventName: Energy costs fluctuations\u003cbr\u003eeventType: Economic Event\u003cbr\u003edescription: Recent fluctuations leading to an increase in hosting IT and software prices."}, {"color": "#d62728", "id": "e20", "label": "Project System_big", "shape": "dot", "size": 15, "title": "ID: e20\u003cbr\u003eType: pekg:TransactionContext\u003cbr\u003econtextName: Project System_big\u003cbr\u003etypeSought: Sale/Acquisition\u003cbr\u003estatus: Teaser phase\u003cbr\u003edealRationaleHighlights: [\u0027Ambitious roadmap to scale-up\u0027, \u0027Focus on cost structure\u0027]\u003cbr\u003ekeyInvestmentHighlights: [\u0027Target 31.9% EBITDA margin (\u20ac16.9m EBITDA) in FY26BP\u0027]"}]);
                  edges = new vis.DataSet([{"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e6"}, {"arrows": "to", "from": "e1", "label": "reportsFinancialMetric", "title": "pekg:reportsFinancialMetric", "to": "e7"}, {"arrows": "to", "from": "e1", "label": "operatesIn", "title": "pekg:operatesIn", "to": "e8"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e9"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e10"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e11"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e12"}, {"arrows": "to", "from": "e1", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e13"}, {"arrows": "to", "from": "e1", "label": "offers", "title": "pekg:offers", "to": "e14"}, {"arrows": "to", "from": "e14", "label": "targets", "title": "pekg:targets", "to": "e15"}, {"arrows": "to", "from": "e1", "label": "hasClientCompany", "title": "pekg:hasClientCompany", "to": "e16"}, {"arrows": "to", "from": "e1", "label": "hasOfficeIn", "title": "pekg:hasOfficeIn", "to": "e17"}, {"arrows": "to", "from": "e11", "label": "experiencedEvent", "title": "pekg:experiencedEvent", "to": "e18"}, {"arrows": "to", "from": "e9", "label": "experiencedEvent", "title": "pekg:experiencedEvent", "to": "e19"}, {"arrows": "to", "from": "e1", "label": "isSubjectOf", "title": "pekg:isSubjectOf", "to": "e20"}, {"arrows": "to", "from": "e20", "label": "advisedBy", "title": "pekg:advisedBy", "to": "e2"}, {"arrows": "to", "from": "e20", "label": "advisedBy", "title": "pekg:advisedBy", "to": "e3"}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"nodes": {"shape": "dot", "size": 18, "font": {"size": 14, "face": "Tahoma"}}, "edges": {"arrows": {"to": {"enabled": true, "scaleFactor": 0.7}}, "color": {"inherit": "from"}, "smooth": {"type": "continuous", "roundness": 0.2}, "font": {"size": 10, "align": "middle"}}, "physics": {"enabled": true, "barnesHut": {"gravitationalConstant": -30000, "centralGravity": 0.3, "springLength": 250, "springConstant": 0.04, "damping": 0.09}, "minVelocity": 0.75}, "interaction": {"hover": true, "tooltipDelay": 200, "multiselect": true}, "layout": {"hierarchical": false}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    </body>
</html>