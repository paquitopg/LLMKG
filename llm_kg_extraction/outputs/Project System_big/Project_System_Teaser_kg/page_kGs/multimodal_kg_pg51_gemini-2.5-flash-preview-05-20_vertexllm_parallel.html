<html>
    <head>
        <meta charset="utf-8">
        
            <script>function neighbourhoodHighlight(params) {
  // console.log("in nieghbourhoodhighlight");
  allNodes = nodes.get({ returnType: "Object" });
  // originalNodes = JSON.parse(JSON.stringify(allNodes));
  // if something is selected:
  if (params.nodes.length > 0) {
    highlightActive = true;
    var i, j;
    var selectedNode = params.nodes[0];
    var degrees = 2;

    // mark all nodes as hard to read.
    for (let nodeId in allNodes) {
      // nodeColors[nodeId] = allNodes[nodeId].color;
      allNodes[nodeId].color = "rgba(200,200,200,0.5)";
      if (allNodes[nodeId].hiddenLabel === undefined) {
        allNodes[nodeId].hiddenLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }
    var connectedNodes = network.getConnectedNodes(selectedNode);
    var allConnectedNodes = [];

    // get the second degree nodes
    for (i = 1; i < degrees; i++) {
      for (j = 0; j < connectedNodes.length; j++) {
        allConnectedNodes = allConnectedNodes.concat(
          network.getConnectedNodes(connectedNodes[j])
        );
      }
    }

    // all second degree nodes get a different color and their label back
    for (i = 0; i < allConnectedNodes.length; i++) {
      // allNodes[allConnectedNodes[i]].color = "pink";
      allNodes[allConnectedNodes[i]].color = "rgba(150,150,150,0.75)";
      if (allNodes[allConnectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[allConnectedNodes[i]].label =
          allNodes[allConnectedNodes[i]].hiddenLabel;
        allNodes[allConnectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // all first degree nodes get their own color and their label back
    for (i = 0; i < connectedNodes.length; i++) {
      // allNodes[connectedNodes[i]].color = undefined;
      allNodes[connectedNodes[i]].color = nodeColors[connectedNodes[i]];
      if (allNodes[connectedNodes[i]].hiddenLabel !== undefined) {
        allNodes[connectedNodes[i]].label =
          allNodes[connectedNodes[i]].hiddenLabel;
        allNodes[connectedNodes[i]].hiddenLabel = undefined;
      }
    }

    // the main node gets its own color and its label back.
    // allNodes[selectedNode].color = undefined;
    allNodes[selectedNode].color = nodeColors[selectedNode];
    if (allNodes[selectedNode].hiddenLabel !== undefined) {
      allNodes[selectedNode].label = allNodes[selectedNode].hiddenLabel;
      allNodes[selectedNode].hiddenLabel = undefined;
    }
  } else if (highlightActive === true) {
    // console.log("highlightActive was true");
    // reset all nodes
    for (let nodeId in allNodes) {
      // allNodes[nodeId].color = "purple";
      allNodes[nodeId].color = nodeColors[nodeId];
      // delete allNodes[nodeId].color;
      if (allNodes[nodeId].hiddenLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].hiddenLabel;
        allNodes[nodeId].hiddenLabel = undefined;
      }
    }
    highlightActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    // console.log("Nothing was selected");
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        // console.log(allNodes[nodeId]);
        // allNodes[nodeId].color = {};
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function filterHighlight(params) {
  allNodes = nodes.get({ returnType: "Object" });
  // if something is selected:
  if (params.nodes.length > 0) {
    filterActive = true;
    let selectedNodes = params.nodes;

    // hiding all nodes and saving the label
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = true;
      if (allNodes[nodeId].savedLabel === undefined) {
        allNodes[nodeId].savedLabel = allNodes[nodeId].label;
        allNodes[nodeId].label = undefined;
      }
    }

    for (let i=0; i < selectedNodes.length; i++) {
      allNodes[selectedNodes[i]].hidden = false;
      if (allNodes[selectedNodes[i]].savedLabel !== undefined) {
        allNodes[selectedNodes[i]].label = allNodes[selectedNodes[i]].savedLabel;
        allNodes[selectedNodes[i]].savedLabel = undefined;
      }
    }

  } else if (filterActive === true) {
    // reset all nodes
    for (let nodeId in allNodes) {
      allNodes[nodeId].hidden = false;
      if (allNodes[nodeId].savedLabel !== undefined) {
        allNodes[nodeId].label = allNodes[nodeId].savedLabel;
        allNodes[nodeId].savedLabel = undefined;
      }
    }
    filterActive = false;
  }

  // transform the object into an array
  var updateArray = [];
  if (params.nodes.length > 0) {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  } else {
    for (let nodeId in allNodes) {
      if (allNodes.hasOwnProperty(nodeId)) {
        updateArray.push(allNodes[nodeId]);
      }
    }
    nodes.update(updateArray);
  }
}

function selectNode(nodes) {
  network.selectNodes(nodes);
  neighbourhoodHighlight({ nodes: nodes });
  return nodes;
}

function selectNodes(nodes) {
  network.selectNodes(nodes);
  filterHighlight({nodes: nodes});
  return nodes;
}

function highlightFilter(filter) {
  let selectedNodes = []
  let selectedProp = filter['property']
  if (filter['item'] === 'node') {
    let allNodes = nodes.get({ returnType: "Object" });
    for (let nodeId in allNodes) {
      if (allNodes[nodeId][selectedProp] && filter['value'].includes((allNodes[nodeId][selectedProp]).toString())) {
        selectedNodes.push(nodeId)
      }
    }
  }
  else if (filter['item'] === 'edge'){
    let allEdges = edges.get({returnType: 'object'});
    // check if the selected property exists for selected edge and select the nodes connected to the edge
    for (let edge in allEdges) {
      if (allEdges[edge][selectedProp] && filter['value'].includes((allEdges[edge][selectedProp]).toString())) {
        selectedNodes.push(allEdges[edge]['from'])
        selectedNodes.push(allEdges[edge]['to'])
      }
    }
  }
  selectNodes(selectedNodes)
}</script>
            <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/dist/vis-network.min.css" integrity="sha512-WgxfT5LWjfszlPHXRmBWHkV2eceiWTOBvrKCNbdgDYTHrT2AeLCGbF4sZlZw3UMN3WtL0tGUoIAKsu8mllg/XA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
            <script src="https://cdnjs.cloudflare.com/ajax/libs/vis-network/9.1.2/dist/vis-network.min.js" integrity="sha512-LnvoEWDFrqGHlHmDD2101OrLcbsfkrzoSpvtSQtxK3RMnRV0eOkhhBN2dXHKRrUU8p2DGRTk35n4O8nWSVe1mQ==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
            
            
            
            
            
            

        
<center>
<h1></h1>
</center>

<!-- <link rel="stylesheet" href="../node_modules/vis/dist/vis.min.css" type="text/css" />
<script type="text/javascript" src="../node_modules/vis/dist/vis.js"> </script>-->
        <link
          href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/css/bootstrap.min.css"
          rel="stylesheet"
          integrity="sha384-eOJMYsd53ii+scO/bJGFsiCZc+5NDVN2yr8+0RDqr0Ql0h+rP48ckxlpbzKgwra6"
          crossorigin="anonymous"
        />
        <script
          src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta3/dist/js/bootstrap.bundle.min.js"
          integrity="sha384-JEW9xMcG8R+pH31jmWH6WWP0WintQrMb4s7ZOdauHnUtxwoG2vI5DkLtS3qm9Ekf"
          crossorigin="anonymous"
        ></script>


        <center>
          <h1></h1>
        </center>
        <style type="text/css">

             #mynetwork {
                 width: 100%;
                 height: 800px;
                 background-color: #ffffff;
                 border: 1px solid lightgray;
                 position: relative;
                 float: left;
             }

             

             

             
        </style>
    </head>


    <body>
        <div class="card" style="width: 100%">
            
            
            <div id="mynetwork" class="card-body"></div>
        </div>

        
        

        <script type="text/javascript">

              // initialize global variables.
              var edges;
              var nodes;
              var allNodes;
              var allEdges;
              var nodeColors;
              var originalNodes;
              var network;
              var container;
              var options, data;
              var filter = {
                  item : '',
                  property : '',
                  value : []
              };

              

              

              // This method is responsible for drawing the graph, returns the drawn network
              function drawGraph() {
                  var container = document.getElementById('mynetwork');

                  

                  // parsing and collecting nodes and edges from the python
                  nodes = new vis.DataSet([{"color": "#1f77b4", "id": "e1", "label": "Systran SAS", "shape": "dot", "size": 15, "title": "ID: e1\u003cbr\u003eType: pekg:Company\u003cbr\u003ename: Systran SAS\u003cbr\u003ealias: [\u0027Systran\u0027, \u0027The Group\u0027]\u003cbr\u003ekeyStrengths: [\u0027Market-leading translation technologies\u0027, \u0027cutting-edge machine-learning capabilities\u0027, \u0027owns unique rights to web data\u0027, \u0027expertise in engines training\u0027, \u0027software efficiency\u0027, \u0027ambitious R\u0026D roadmap\u0027, \u0027track-record of innovations\u0027]\u003cbr\u003egrowthStrategySummary: data collection is at the core of Systran\u2019s strategy"}, {"color": "#cccccc", "id": "e2", "label": "Rothschild \u0026 Co", "shape": "dot", "size": 15, "title": "ID: e2\u003cbr\u003eType: Financial Advisor\u003cbr\u003ename: Rothschild \u0026 Co\u003cbr\u003eroleInContext: Advisory Firm for Project System_big"}, {"color": "#cccccc", "id": "e3", "label": "Samsung Securities", "shape": "dot", "size": 15, "title": "ID: e3\u003cbr\u003eType: Financial Advisor\u003cbr\u003ename: Samsung Securities\u003cbr\u003eroleInContext: Advisory Firm for Project System_big"}, {"color": "#d62728", "id": "e4", "label": "Project System_big", "shape": "dot", "size": 15, "title": "ID: e4\u003cbr\u003eType: pekg:TransactionContext\u003cbr\u003econtextName: Project System_big\u003cbr\u003etypeSought: Potential Sale/Acquisition\u003cbr\u003estatus: Ongoing"}, {"color": "#8c564b", "id": "e5", "label": "Machine-learning capabilities", "shape": "dot", "size": 15, "title": "ID: e5\u003cbr\u003eType: pekg:Technology\u003cbr\u003ename: Machine-learning capabilities\u003cbr\u003edescription: Cutting-edge capabilities combined with translation technologies."}, {"color": "#ffbb78", "id": "e6", "label": "Data collection", "shape": "dot", "size": 15, "title": "ID: e6\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Data collection\u003cbr\u003edescription: At the core of Systran\u0027s strategy as a key input to neural machine translation\u2019s accuracy. Data collected by Systran for 20 years and cleaned by Systran\u2019s data scientists."}, {"color": "#8c564b", "id": "e7", "label": "Web data", "shape": "dot", "size": 15, "title": "ID: e7\u003cbr\u003eType: pekg:Technology\u003cbr\u003ename: Web data\u003cbr\u003edescription: Unique data to which Systran owns rights (from an Intellectual Property standpoint), collected for the past 20 years and cleaned to serve as input for translation training processes."}, {"color": "#8c564b", "id": "e8", "label": "Neural machine translation", "shape": "dot", "size": 15, "title": "ID: e8\u003cbr\u003eType: pekg:Technology\u003cbr\u003ename: Neural machine translation\u003cbr\u003edescription: Key technology for translation accuracy, with data collection as a core input."}, {"color": "#8c564b", "id": "e9", "label": "Translation models", "shape": "dot", "size": 15, "title": "ID: e9\u003cbr\u003eType: pekg:Technology\u003cbr\u003ename: Translation models\u003cbr\u003edescription: Continuously trained by Systran and customers relying on customized terminologies, reflecting industry terminology and translator\u2019s communication habits."}, {"color": "#1f77b4", "id": "e10", "label": "Customers", "shape": "dot", "size": 15, "title": "ID: e10\u003cbr\u003eType: pekg:Company\u003cbr\u003ename: Customers\u003cbr\u003edescription: Customers of Systran who continuously train translation models with Systran."}, {"color": "#9467bd", "id": "e11", "label": "Systran\u0027s translation software", "shape": "dot", "size": 15, "title": "ID: e11\u003cbr\u003eType: pekg:ProductOrService\u003cbr\u003ename: Systran\u0027s translation software\u003cbr\u003ecategory: Translation Software\u003cbr\u003edescription: Can process up to 1bn requests per day and translate text from a large set of files (Incl. MS PowerPoint, PDF, pictures)."}, {"color": "#9467bd", "id": "e12", "label": "Maintenance services", "shape": "dot", "size": 15, "title": "ID: e12\u003cbr\u003eType: pekg:ProductOrService\u003cbr\u003ename: Maintenance services\u003cbr\u003ecategory: Service\u003cbr\u003edescription: Includes an update patch that constantly adds additional capabilities."}, {"color": "#9467bd", "id": "e13", "label": "Update patch", "shape": "dot", "size": 15, "title": "ID: e13\u003cbr\u003eType: pekg:ProductOrService\u003cbr\u003ename: Update patch\u003cbr\u003ecategory: Software Update\u003cbr\u003edescription: Constantly adds additional capabilities, part of maintenance services."}, {"color": "#9467bd", "id": "e14", "label": "OpenNMT", "shape": "dot", "size": 15, "title": "ID: e14\u003cbr\u003eType: pekg:ProductOrService\u003cbr\u003ename: OpenNMT\u003cbr\u003ecategory: Open-source ecosystem\u003cbr\u003edescription: An open-source ecosystem for neural machine translation and neural sequence learning, created by Harvard NLP Group and Systran. Trained and improved based on inputs of 3rd party developers, with Systran reviewing public developers\u0027 inputs for data privacy."}, {"color": "#1f77b4", "id": "e15", "label": "Harvard NLP Group", "shape": "dot", "size": 15, "title": "ID: e15\u003cbr\u003eType: pekg:Company\u003cbr\u003ename: Harvard NLP Group\u003cbr\u003edescription: Co-creator of the OpenNMT open-source ecosystem."}, {"color": "#8c564b", "id": "e16", "label": "Neural sequence learning", "shape": "dot", "size": 15, "title": "ID: e16\u003cbr\u003eType: pekg:Technology\u003cbr\u003ename: Neural sequence learning\u003cbr\u003edescription: Technology related to the OpenNMT ecosystem."}, {"color": "#1f77b4", "id": "e17", "label": "3rd party developers", "shape": "dot", "size": 15, "title": "ID: e17\u003cbr\u003eType: pekg:Company\u003cbr\u003ename: 3rd party developers\u003cbr\u003edescription: Developers whose inputs train and improve the OpenNMT ecosystem, and whose public inputs are reviewed by Systran."}, {"color": "#ffbb78", "id": "e18", "label": "Software efficiency", "shape": "dot", "size": 15, "title": "ID: e18\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Software efficiency\u003cbr\u003edescription: A key characteristic of Systran\u0027s translation software."}, {"color": "#ffbb78", "id": "e19", "label": "Expertise in engines training", "shape": "dot", "size": 15, "title": "ID: e19\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Expertise in engines training\u003cbr\u003edescription: A key capability of Systran."}, {"color": "#ffbb78", "id": "e20", "label": "R\u0026D roadmap", "shape": "dot", "size": 15, "title": "ID: e20\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: R\u0026D roadmap\u003cbr\u003edescription: Ambitious R\u0026D roadmap based on a one-of-a-kind track-record of innovations."}, {"color": "#ffbb78", "id": "e21", "label": "Track-record of innovations", "shape": "dot", "size": 15, "title": "ID: e21\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Track-record of innovations\u003cbr\u003edescription: One-of-a-kind track-record of innovations."}, {"color": "#ffbb78", "id": "e22", "label": "Requests processed per day", "shape": "dot", "size": 15, "title": "ID: e22\u003cbr\u003eType: pekg:OperationalKPI\u003cbr\u003ekpiName: Requests processed per day\u003cbr\u003ekpiValueString: up to 1bn requests\u003cbr\u003ekpiDateOrPeriod: per day\u003cbr\u003edescription: Capacity of Systran\u0027s translation software."}, {"color": "#8c564b", "id": "e23", "label": "Neural network", "shape": "dot", "size": 15, "title": "ID: e23\u003cbr\u003eType: pekg:Technology\u003cbr\u003ename: Neural network\u003cbr\u003edescription: Technology used by Systran and customers to train translation models."}]);
                  edges = new vis.DataSet([{"arrows": "to", "from": "e1", "label": "isSubjectOf", "title": "pekg:isSubjectOf", "to": "e4"}, {"arrows": "to", "from": "e4", "label": "advisedBy", "title": "pekg:advisedBy", "to": "e2"}, {"arrows": "to", "from": "e4", "label": "advisedBy", "title": "pekg:advisedBy", "to": "e3"}, {"arrows": "to", "from": "e1", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e5"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e6"}, {"arrows": "to", "from": "e1", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e7"}, {"arrows": "to", "from": "e1", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e8"}, {"arrows": "to", "from": "e1", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e9"}, {"arrows": "to", "from": "e1", "label": "hasClientCompany", "title": "pekg:hasClientCompany", "to": "e10"}, {"arrows": "to", "from": "e1", "label": "offers", "title": "pekg:offers", "to": "e11"}, {"arrows": "to", "from": "e1", "label": "offers", "title": "pekg:offers", "to": "e12"}, {"arrows": "to", "from": "e12", "label": "offers", "title": "pekg:offers", "to": "e13"}, {"arrows": "to", "from": "e1", "label": "offers", "title": "pekg:offers", "to": "e14"}, {"arrows": "to", "from": "e15", "label": "offers", "title": "pekg:offers", "to": "e14"}, {"arrows": "to", "from": "e14", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e8"}, {"arrows": "to", "from": "e14", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e16"}, {"arrows": "to", "from": "e14", "label": "hasClientCompany", "title": "pekg:hasClientCompany", "to": "e17"}, {"arrows": "to", "from": "e1", "label": "hasClientCompany", "title": "pekg:hasClientCompany", "to": "e17"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e18"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e19"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e20"}, {"arrows": "to", "from": "e1", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e21"}, {"arrows": "to", "from": "e11", "label": "reportsOperationalKPI", "title": "pekg:reportsOperationalKPI", "to": "e22"}, {"arrows": "to", "from": "e1", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e23"}, {"arrows": "to", "from": "e10", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e23"}, {"arrows": "to", "from": "e6", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e7"}, {"arrows": "to", "from": "e9", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e7"}, {"arrows": "to", "from": "e9", "label": "usesTechnology", "title": "pekg:usesTechnology", "to": "e23"}]);

                  nodeColors = {};
                  allNodes = nodes.get({ returnType: "Object" });
                  for (nodeId in allNodes) {
                    nodeColors[nodeId] = allNodes[nodeId].color;
                  }
                  allEdges = edges.get({ returnType: "Object" });
                  // adding nodes and edges to the graph
                  data = {nodes: nodes, edges: edges};

                  var options = {"nodes": {"shape": "dot", "size": 18, "font": {"size": 14, "face": "Tahoma"}}, "edges": {"arrows": {"to": {"enabled": true, "scaleFactor": 0.7}}, "color": {"inherit": "from"}, "smooth": {"type": "continuous", "roundness": 0.2}, "font": {"size": 10, "align": "middle"}}, "physics": {"enabled": true, "barnesHut": {"gravitationalConstant": -30000, "centralGravity": 0.3, "springLength": 250, "springConstant": 0.04, "damping": 0.09}, "minVelocity": 0.75}, "interaction": {"hover": true, "tooltipDelay": 200, "multiselect": true}, "layout": {"hierarchical": false}};

                  


                  

                  network = new vis.Network(container, data, options);

                  

                  

                  


                  

                  return network;

              }
              drawGraph();
        </script>
    </body>
</html>